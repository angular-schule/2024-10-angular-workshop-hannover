<div class="row">
  <div class="col text-center">
    <input class="form-control form-control-lg" placeholder="Search Books" [formControl]="searchControl">
  </div>
</div>

@if (loading()) {
  <div class="progress mt-2">
    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%">
      Loading ...
    </div>
  </div>
}

@if (results().length) {
  <ul class="list-group mt-5">
    @for (book of results(); track book.isbn) {
      <li class="list-group-item">
        <h4>{{ book.title }}</h4>
        <p class="text-muted small">
          {{ formatAuthors(book.authors) }}
        </p>
        <p>{{ book.description }}</p>
      </li>
    }
  </ul>
}


<ul class="mt-4">
  <li>Baue eine Typeahead-Suche, die während der Eingabe eine Suche gegen unsere Buch-API ausführt.</li>
  <li>Die Eingabewerte aus dem Formular werden durch das Observable <code>searchInput$</code> bekanntgegeben.</li>
  <li>Zur Suche soll der Service <code>TypeaheadService</code> verwendet werden, er hat die Methode <code>this.ts.search(term: string)</code>.</li>
  <li>Die aktuellen Ergebnisse sollen im Signal <code>this.results</code> gespeichert werden.</li>
  <li>Der Lade-Indikator wird angezeigt, wenn das Signal <code>loading</code> den Wert <code>true</code> hat.</li>
  <li>Extra: Refaktorisiere den Code und nutze die AsyncPipe oder die Funktion <code>toSignal()</code> von Angular, um die Subscription aufzubauen.</li>
</ul>
